<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}">
<head>
    <meta charset="UTF-8">
    <title>Book Store</title>
</head>
<body>
<h4 layout:fragment="title" th:text="${book.id == null ? 'Create Book' : 'Update Book'}"></h4>
<th:block layout:fragment="content">
    <form th:action="${entryUrl}" th:object="${book}" method="post">
        <input type="hidden" th:field="*{id}">
        <div class="card">
            <h5 class="card-header text-primary">Book Information</h5>
            <div class="card-body">

                <div class="row">
                    <div class="col-6">
                        <label class="form-label" for="name">Name<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="name" placeholder="Name" th:field="*{name}">
                    </div>
                    <div class="col-6">
                        <label class="form-label" for="isbn">ISBN<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="isbn" placeholder="5487xxxx6847" th:field="*{isbn}">
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-6">
                        <label class="form-label" for="cost">Costing Price<span class="text-danger">*</span></label>
                        <input type="number" class="form-control" id="cost" th:field="*{cost}">
                    </div>
                    <div class="col-6">
                        <label class="form-label" for="retail">Retail Price<span class="text-danger">*</span></label>
                        <input type="number" class="form-control" id="retail" th:field="*{price}">
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-6">
                        <label class="form-label" for="genre">Genre<span class="text-danger">*</span></label>
                        <select id="genre" th:field="*{genre}">
                            <option value="" selected>Choose...</option>
                            <option value="Academic">Academic</option>
                            <option value="Fiction">Fiction</option>
                            <option value="Non-Fiction">Non-Fiction</option>
                            <option value="Mystery">Mystery</option>
                            <option value="Thriller">Thriller</option>
                            <option value="Romance">Romance</option>
                            <option value="Science Fiction">Science Fiction</option>
                            <option value="Fantasy">Fantasy</option>
                            <option value="Historical Fiction">Historical Fiction</option>
                            <option value="Biography">Biography / Autobiography</option>
                            <option value="Self-Help">Self-Help</option>
                            <option value="Business & Economics">Business & Economics</option>
                            <option value="Adventure">Adventure</option>
                            <option value="Horror">Horror</option>
                            <option value="Poetry">Poetry</option>
                            <option value="Religion & Spirituality">Religion & Spirituality</option>
                            <option value="Travel">Travel</option>
                            <option value="Children’s Books">Children’s Books</option>
                            <option value="Young Adult">Young Adult</option>
                            <option value="Science & Technology">Science & Technology</option>
                            <option value="Health & Fitness">Health & Fitness</option>
                        </select>
                    </div>
                    <div class="col-6">
                        <label class="form-label" for="supplier">Supplier<span class="text-danger">*</span></label>
                        <select id="supplier" th:field="*{supplier}">
                            <option value="" selected>Choose...</option>
                            <option th:each="supplier : ${suppliers}" th:value="${supplier.id}" th:text="${supplier.name}"></option>
                        </select>
                    </div>
                </div>

            </div>
        </div>
        <button class="btn btn-primary mt-2" type="submit" th:if="${loggedUser.isAdmin}" th:text="${book.id == null ? 'Save' : 'Update'}"></button>
    </form>
    <th:block th:replace="~{common/toast.html :: toast}"></th:block>
</th:block>
<th:block layout:fragment="script">
    <script th:inline="javascript">
        window.addEventListener('DOMContentLoaded', () => {
            new NiceSelect.bind(document.querySelector('#genre'), {searchable: true, placeholder: 'Choose...', searchtext: 'Type to search', selectedtext: 'Choose...'});
            new NiceSelect.bind(document.querySelector('#supplier'), {searchable: true, placeholder: 'Choose...', searchtext: 'Type to search', selectedtext: 'Choose...'});
        });
    </script>
</th:block>
</body>
</html>