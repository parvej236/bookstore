<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Book Store</title>

    <link rel="icon" th:href="@{images/icon.png}">

    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/nice-select2.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap-icons.css}">
    <link rel="stylesheet" th:href="@{/css/autocomplete.css}">
    <link rel="stylesheet" th:href="@{/css/datepicker.min.css}">
    <link rel="stylesheet" th:href="@{/css/dataTables.bootstrap5.css}">

    <script type="text/javascript" th:src="@{/js/moment.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/jquery.js}"></script>
    <script type="text/javascript" th:src="@{/js/dataTables.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/script.js}"></script>
    <script type="text/javascript" th:src="@{/js/nice-select2.js}"></script>
    <script type="text/javascript" th:src="@{/js/autocomplete.js}"></script>
    <script type="text/javascript" th:src="@{/js/datepicker-full.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/date-utils.js}"></script>
    <script type="text/javascript" th:src="@{/js/dataTables.buttons.js}"></script>
    <script type="text/javascript" th:src="@{/js/dataTables.bootstrap5.js}"></script>
</head>
<body class="h-100">
<div id="parent" class="d-grid">
    <div id="side-menu" class="overflow-auto">
        <div id="logo">
            <a class="text-decoration-none d-flex align-items-center justify-content-center" href="/">
                <img th:src="@{/images/logo.gif}" alt="logo">
                <span class="fw-bold ms-2 fs-5" style="color: #293b85">BSMS</span>
            </a>
        </div>
        <div th:replace="~{common/side-menu :: side-menu}"></div>
    </div>
    <div id="title-bar" class="d-flex align-items-center">
        <th:block class="fw-bold" layout:fragment="title"></th:block>
    </div>
    <div id="profile-menu" class="dropdown d-flex align-items-center justify-content-end pe-4">
        <i class="bi bi-person-circle dropdown-toggle fs-4 ms-4" role="button" data-bs-toggle="dropdown"></i>
        <ul class="dropdown-menu lh-lg">
            <li><span class="dropdown-item fw-bold" th:text="${'@' + loggedUser.username + ' (' + loggedUser.role + ')'}"></span></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" th:href="@{/profile(username=${loggedUser.username})}"><i class="bi bi-person-circle me-2"></i>Profile</a></li>
            <li><a class="dropdown-item" href="/confirm-password"><i class="bi bi-arrow-repeat me-2"></i>Reset Password</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/logout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
        </ul>
    </div>
    <div id="main-content">
        <th:block layout:fragment="content"></th:block>
    </div>
    <div id="footer" class="d-flex align-items-center justify-content-center fw-bold ps-4">
        <span>&copy; Copyright Codez Boyz, All Rights Reserved. Version: 1.0-SNAPSHOT (<span th:text="${#dates.create(2025, 6, 3, 3, 33, 33)}"></span>)</span>
    </div>
</div>

<div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="messageToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body"></div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>
<th:block layout:fragment="script"/>
</body>
</html>